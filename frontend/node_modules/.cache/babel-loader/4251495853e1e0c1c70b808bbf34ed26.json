{"ast":null,"code":"import _asyncToGenerator from\"/Users/davidzagardo/Dropbox/My Mac (Davids-MacBook-Pro.local)/Desktop/INTELLIJ/17514hw3/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/davidzagardo/Dropbox/My Mac (Davids-MacBook-Pro.local)/Desktop/INTELLIJ/17514hw3/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/davidzagardo/Dropbox/My Mac (Davids-MacBook-Pro.local)/Desktop/INTELLIJ/17514hw3/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/davidzagardo/Dropbox/My Mac (Davids-MacBook-Pro.local)/Desktop/INTELLIJ/17514hw3/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/davidzagardo/Dropbox/My Mac (Davids-MacBook-Pro.local)/Desktop/INTELLIJ/17514hw3/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/davidzagardo/Dropbox/My Mac (Davids-MacBook-Pro.local)/Desktop/INTELLIJ/17514hw3/frontend/node_modules/@babel/runtime/regenerator/index.js\";import Handlebars from\"handlebars\";import{Component}from'react';import'./App.css';import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var oldHref=\"http://localhost:3000\";var turn=0;// drop down with godcard select options\n// when game: start\n// or: first move\n// ---> deactivate the dropdowns\nvar App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={cells:[{text:\"\",worker:\"\",link:\"/gods?x=0&y=0&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=1&y=0&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=2&y=0&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=3&y=0&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=4&y=0&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=0&y=1&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=1&y=1&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=2&y=1&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=3&y=1&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=4&y=1&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=0&y=2&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=1&y=2&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=2&y=2&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=3&y=2&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=4&y=2&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=0&y=3&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=1&y=3&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=2&y=3&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=3&y=3&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=4&y=3&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=0&y=4&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=1&y=4&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=2&y=4&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=3&y=4&w=P0W0\",image:\"\"},{text:\"\",worker:\"\",link:\"/gods?x=4&y=4&w=P0W0\",image:\"\"}],template:_this.loadTemplate(),instructions:\"It is Player 0's turn\",godOne:\"\",godTwo:\"\",godOneRules:\"\",godTwoRules:\"\",image:\"\"};return _this;}// have cells be move or build with correct params\n// those methods return the json obj of board\n// update ui with convertToCell\n_createClass(App,[{key:\"loadTemplate\",value:function loadTemplate(){var src=document.getElementById(\"handlebars\");return Handlebars.compile(src===null||src===void 0?void 0:src.innerHTML,{});}},{key:\"convertToCell\",value:function convertToCell(p){// console.log(p);\nvar newCells=[];for(var i=0;i<p[\"cells\"].length;i++){for(var j=0;j<p[\"cells\"][i].length;j++){var c={text:p[\"cells\"][i][j][\"text\"],worker:p[\"cells\"][i][j][\"worker\"],link:p[\"cells\"][i][j][\"link\"],image:p[\"cells\"][i][j][\"image\"]};newCells.push(c);}}return newCells;}},{key:\"getGodOne\",value:function getGodOne(p){return p[\"godOne\"];}},{key:\"getGodTwo\",value:function getGodTwo(p){return p[\"godTwo\"];}},{key:\"getGodOneRules\",value:function getGodOneRules(p){return p[\"godOneRules\"];}},{key:\"getGodTwoRules\",value:function getGodTwoRules(p){return p[\"godTwoRules\"];}},{key:\"getTurn\",value:function getTurn(p){return p[\"turn\"];}},{key:\"getWinner\",value:function getWinner(p){return p[\"winner\"];}},{key:\"getInstr\",value:function getInstr(turn,winner){if(winner===undefined)return\"It is Player \"+turn+\"'s turn.\";else return\"Player \"+winner+\" wins!\";}},{key:\"newGame\",value:function(){var _newGame=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json,newCells,godOneRules,godTwoRules;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"newgame\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;newCells=this.convertToCell(json);godOneRules=this.getGodOneRules(json);godTwoRules=this.getGodTwoRules(json);this.setState({cells:newCells,godOneRules:godOneRules,godTwoRules:godTwoRules,instructions:\"Choose gods and then set workers!\"});case 10:case\"end\":return _context.stop();}}},_callee,this);}));function newGame(){return _newGame.apply(this,arguments);}return newGame;}()},{key:\"gods\",value:function(){var _gods=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url){var href,response,json,newCells,godOne,godTwo,godOneRules,godTwoRules,turn,winner;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:href=\"gods?\"+url.split(\"?\")[1];_context2.next=3;return fetch(href);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:json=_context2.sent;newCells=this.convertToCell(json);godOne=this.getGodOne(json);godTwo=this.getGodTwo(json);godOneRules=this.getGodOneRules(json);godTwoRules=this.getGodTwoRules(json);turn=this.getTurn(json);winner=this.getWinner(json);this.setState({cells:newCells,instructions:\"Choose gods and then set workers!\",godOne:godOne,godTwo:godTwo,godOneRules:godOneRules,godTwoRules:godTwoRules,image:\"p\"+turn+\".png\"});case 15:case\"end\":return _context2.stop();}}},_callee2,this);}));function gods(_x){return _gods.apply(this,arguments);}return gods;}()},{key:\"play\",value:function(){var _play=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url){var href,response,json,newCells,godOne,godTwo,godOneRules,godTwoRules,turn,winner,instr;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:href=\"play?\"+url.split(\"?\")[1];_context3.next=3;return fetch(href);case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:json=_context3.sent;newCells=this.convertToCell(json);godOne=this.getGodOne(json);godTwo=this.getGodTwo(json);godOneRules=this.getGodOneRules(json);godTwoRules=this.getGodTwoRules(json);turn=this.getTurn(json);winner=this.getWinner(json);instr=this.getInstr(turn,winner);this.setState({cells:newCells,instructions:instr,godOne:godOne,godTwo:godTwo,godOneRules:godOneRules,godTwoRules:godTwoRules,image:\"p\"+turn+\".png\"});case 16:case\"end\":return _context3.stop();}}},_callee3,this);}));function play(_x2){return _play.apply(this,arguments);}return play;}()},{key:\"build\",value:function(){var _build=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url){var href,response,json,newCells,godOne,godTwo,godOneRules,godTwoRules,turn,winner,instr;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:href=\"build?\"+url.split(\"?\")[1];_context4.next=3;return fetch(href);case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:json=_context4.sent;newCells=this.convertToCell(json);godOne=this.getGodOne(json);godTwo=this.getGodTwo(json);godOneRules=this.getGodOneRules(json);godTwoRules=this.getGodTwoRules(json);turn=this.getTurn(json);winner=this.getWinner(json);instr=this.getInstr(turn,winner);this.setState({cells:newCells,instructions:instr,godOne:godOne,godTwo:godTwo,godOneRules:godOneRules,godTwoRules:godTwoRules,image:\"p\"+turn+\".png\"});case 16:case\"end\":return _context4.stop();}}},_callee4,this);}));function build(_x3){return _build.apply(this,arguments);}return build;}()},{key:\"undo\",value:function(){var _undo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var response,json,newCells,turn,winner,instr;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"undo\");case 2:response=_context5.sent;_context5.next=5;return response.json();case 5:json=_context5.sent;newCells=this.convertToCell(json);turn=this.getTurn(json);winner=this.getWinner(json);instr=this.getInstr(turn,winner);this.setState({cells:newCells,instructions:instr,image:\"p\"+turn+\".png\"});case 11:case\"end\":return _context5.stop();}}},_callee5,this);}));function undo(){return _undo.apply(this,arguments);}return undo;}()},{key:\"switch\",value:function(){var _switch2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(window.location.href===\"http://localhost:3000/newgame\"&&oldHref!==window.location.href){this.newGame();oldHref=window.location.href;}else if(window.location.href.split(\"?\")[0]===\"http://localhost:3000/play\"&&oldHref!==window.location.href){this.play(window.location.href);oldHref=window.location.href;}else if(window.location.href.split(\"?\")[0]===\"http://localhost:3000/gods\"&&oldHref!==window.location.href){this.gods(window.location.href);oldHref=window.location.href;}else if(window.location.href.split(\"?\")[0]===\"http://localhost:3000/build\"&&oldHref!==window.location.href){this.build(window.location.href);oldHref=window.location.href;}else if(window.location.href===\"http://localhost:3000/undo\"&&oldHref!==window.location.href){this.undo();oldHref=window.location.href;}case 1:case\"end\":return _context6.stop();}}},_callee6,this);}));function _switch(){return _switch2.apply(this,arguments);}return _switch;}()},{key:\"render\",value:function render(){this.switch();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:this.state.template({cells:this.state.cells,instructions:this.state.instructions,godOne:this.state.godOne,godTwo:this.state.godTwo,godOneRules:this.state.godOneRules,godTwoRules:this.state.godTwoRules,image:this.state.image})}})});}}]);return App;}(Component);;export default App;","map":{"version":3,"sources":["/Users/davidzagardo/Dropbox/My Mac (Davids-MacBook-Pro.local)/Desktop/INTELLIJ/17514hw3/frontend/src/App.tsx"],"names":["Handlebars","Component","React","oldHref","turn","App","props","state","cells","text","worker","link","image","template","loadTemplate","instructions","godOne","godTwo","godOneRules","godTwoRules","src","document","getElementById","compile","innerHTML","p","newCells","i","length","j","c","push","winner","undefined","fetch","response","json","convertToCell","getGodOneRules","getGodTwoRules","setState","url","href","split","getGodOne","getGodTwo","getTurn","getWinner","instr","getInstr","window","location","newGame","play","gods","build","undo","switch","__html"],"mappings":"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","sourcesContent":["import Handlebars from \"handlebars\"\nimport { Component } from 'react'\nimport './App.css'\nimport Box from '@mui/material/Box';\nimport FormLabel from '@mui/material/FormLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormHelperText from '@mui/material/FormHelperText';\nimport Checkbox from '@mui/material/Checkbox';\nimport React from \"react\";\n\nvar oldHref = \"http://localhost:3000\"\nvar turn = 0\n\n// drop down with godcard select options\n// when game: start\n// or: first move\n// ---> deactivate the dropdowns\n\ninterface Cell {\n  text: String;\n  worker: String;\n  link: String;\n  image: String;\n}\n\ninterface Cells {\n  cells: Array<Cell>,\n  template: HandlebarsTemplateDelegate<any>,\n  instructions: String\n  godOne: String\n  godTwo: String\n  godOneRules: String\n  godTwoRules: String\n  image: String\n}\n\ninterface Props {\n}\n\nclass App extends Component<Props, Cells> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      cells: [\n        { text: \"\", worker: \"\", link: \"/gods?x=0&y=0&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=1&y=0&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=2&y=0&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=3&y=0&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=4&y=0&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=0&y=1&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=1&y=1&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=2&y=1&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=3&y=1&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=4&y=1&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=0&y=2&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=1&y=2&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=2&y=2&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=3&y=2&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=4&y=2&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=0&y=3&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=1&y=3&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=2&y=3&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=3&y=3&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=4&y=3&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=0&y=4&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=1&y=4&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=2&y=4&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=3&y=4&w=P0W0\", image: \"\"  },\n        { text: \"\", worker: \"\", link: \"/gods?x=4&y=4&w=P0W0\", image: \"\"  },\n      ],\n      template: this.loadTemplate(),\n      instructions: \"It is Player 0's turn\",\n      godOne: \"\",\n      godTwo: \"\",\n      godOneRules: \"\",\n      godTwoRules: \"\",\n      image: \"\"\n    };\n  }\n\n// have cells be move or build with correct params\n// those methods return the json obj of board\n// update ui with convertToCell\n\n  loadTemplate (): HandlebarsTemplateDelegate<any> {\n    const src = document.getElementById(\"handlebars\");\n    return Handlebars.compile(src?.innerHTML, {});\n  }\n\n  convertToCell(p: any): Array<Cell> {\n    // console.log(p);\n    const newCells: Array<Cell> = [];\n    for (var i = 0; i < p[\"cells\"].length; i++) {\n      for (var j = 0; j < p[\"cells\"][i].length; j++) {\n        var c: Cell = {\n          text: p[\"cells\"][i][j][\"text\"],\n          worker: p[\"cells\"][i][j][\"worker\"],\n          link: p[\"cells\"][i][j][\"link\"],\n          image: p[\"cells\"][i][j][\"image\"],\n        };\n        \n        newCells.push(c);\n      }\n    }\n\n    return newCells;\n  }\n\n  getGodOne(p: any): String {\n    return p[\"godOne\"]\n  }\n\n  getGodTwo(p: any): String {\n    return p[\"godTwo\"]\n  }\n\n  getGodOneRules(p: any): String {\n    return p[\"godOneRules\"]\n  }\n\n  getGodTwoRules(p: any): String {\n    return p[\"godTwoRules\"]\n  }\n\n  getTurn(p: any): String {\n    return p[\"turn\"]\n  }\n\n  getWinner(p: any): String | undefined {\n    return p[\"winner\"]\n  }\n\n  getInstr(turn: String, winner: String | undefined) {\n    if (winner === undefined) return \"It is Player \" + turn + \"'s turn.\"\n    else return \"Player \" + winner + \" wins!\"\n  }\n\n  async newGame() {\n    const response = await fetch(\"newgame\");\n    const json = await response.json();\n\n    const newCells: Array<Cell> = this.convertToCell(json);\n    const godOneRules = this.getGodOneRules(json);\n    const godTwoRules = this.getGodTwoRules(json);\n    this.setState({ cells: newCells, godOneRules: godOneRules, godTwoRules: godTwoRules, instructions: \"Choose gods and then set workers!\" });\n  }\n\n  async gods(url: String) {\n    const href = \"gods?\" + url.split(\"?\")[1];\n    const response = await fetch(href);\n    const json = await response.json();\n\n    const newCells: Array<Cell> = this.convertToCell(json);\n    const godOne = this.getGodOne(json);\n    const godTwo = this.getGodTwo(json);\n    const godOneRules = this.getGodOneRules(json);\n    const godTwoRules = this.getGodTwoRules(json);\n    const turn = this.getTurn(json);\n    const winner = this.getWinner(json);\n    this.setState({cells: newCells, instructions: \"Choose gods and then set workers!\", godOne: godOne, godTwo: godTwo,\n      godOneRules: godOneRules, godTwoRules: godTwoRules, image: \"p\" + turn + \".png\"})\n  }\n\n  async play(url: String) {\n    const href = \"play?\" + url.split(\"?\")[1];\n    const response = await fetch(href);\n    const json = await response.json();\n\n    const newCells: Array<Cell> = this.convertToCell(json);\n    const godOne = this.getGodOne(json);\n    const godTwo = this.getGodTwo(json);\n    const godOneRules = this.getGodOneRules(json);\n    const godTwoRules = this.getGodTwoRules(json);\n    const turn = this.getTurn(json);\n    const winner = this.getWinner(json);\n    const instr = this.getInstr(turn, winner);\n    this.setState({ cells: newCells, instructions: instr, godOne: godOne, godTwo: godTwo,\n      godOneRules: godOneRules, godTwoRules: godTwoRules, image: \"p\" + turn + \".png\" })\n  }\n\n  async build(url: String) {\n    const href = \"build?\" + url.split(\"?\")[1];\n    const response = await fetch(href);\n    const json = await response.json();\n\n    const newCells: Array<Cell> = this.convertToCell(json);\n    const godOne = this.getGodOne(json);\n    const godTwo = this.getGodTwo(json);\n    const godOneRules = this.getGodOneRules(json);\n    const godTwoRules = this.getGodTwoRules(json);\n    const turn = this.getTurn(json);\n    const winner = this.getWinner(json);\n    const instr = this.getInstr(turn, winner);\n    this.setState({ cells: newCells, instructions: instr, godOne: godOne, godTwo: godTwo,\n      godOneRules: godOneRules, godTwoRules: godTwoRules, image: \"p\" + turn + \".png\" })\n  }\n\n  async undo() {\n    const response = await fetch(\"undo\");\n    const json = await response.json();\n\n    const newCells: Array<Cell> = this.convertToCell(json);\n    const turn = this.getTurn(json)\n    const winner = this.getWinner(json)\n    const instr = this.getInstr(turn, winner)\n    this.setState({ cells: newCells, instructions: instr, image: \"p\" + turn + \".png\" })\n  }\n\n  async switch() {\n    if (\n      window.location.href === \"http://localhost:3000/newgame\" &&\n      oldHref !== window.location.href\n    ) {\n      this.newGame();\n      oldHref = window.location.href;\n    } else if (\n      window.location.href.split(\"?\")[0] === \"http://localhost:3000/play\" &&\n      oldHref !== window.location.href\n    ) {\n      this.play(window.location.href);\n      oldHref = window.location.href;\n    } else if (\n      window.location.href.split(\"?\")[0] === \"http://localhost:3000/gods\" &&\n      oldHref !== window.location.href\n    ) {\n      this.gods(window.location.href);\n      oldHref = window.location.href;\n    } else if (\n      window.location.href.split(\"?\")[0] === \"http://localhost:3000/build\" &&\n      oldHref !== window.location.href\n    ) {\n      this.build(window.location.href);\n      oldHref = window.location.href;\n    } else if (\n      window.location.href === \"http://localhost:3000/undo\" &&\n      oldHref !== window.location.href\n    ) {\n      this.undo();\n      oldHref = window.location.href;\n    }\n  };\n\n  render() {\n    this.switch();\n    return (\n      <div className=\"App\">\n        <div\n          dangerouslySetInnerHTML={{\n            __html: this.state.template({ cells: this.state.cells, instructions: this.state.instructions, godOne: this.state.godOne, godTwo: this.state.godTwo, godOneRules: this.state.godOneRules, godTwoRules: this.state.godTwoRules, image: this.state.image }),\n          }}\n        />\n      </div>\n    )\n  };\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}